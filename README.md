This README is a sample file generated using SQLDoc

# Tread
This documentation was automatically generated by [SQLDoc](https://github.com/isaacmaddox/SQLDoc)

| Tables | Procedures |
|---|---|
| [users](#users) | [add_follow()](#add_follow) | 
| [defaults](#defaults) | [remove_follow()](#remove_follow) | 
| [posts](#posts) | [add_post()](#add_post) | 
| [likes](#likes) | [edit_post()](#edit_post) | 
| [follows](#follows) | [get_post()](#get_post) | 
| | [remove_post()](#remove_post) | 
| | [add_user()](#add_user) | 
| | [edit_user()](#edit_user) | 
| | [get_user()](#get_user) | 
| | [update_user_image()](#update_user_image) | 

# Tables
## `users`
> Store the users of the program and their related data

[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| user_id | INT UNSIGNED | PRI | NO | NULL |  |  |
| first_name | VARCHAR(25) |  | NO | NULL |  |  |
| last_name | VARCHAR(25) |  | NO | NULL |  |  |
| middle_initial | CHARACTER |  | YES | NULL |  |  |
| email | VARCHAR(255) | YES | NO | NULL |  |  |
| display_name | VARCHAR(20) |  | NO | NULL |  |  |
| handle | VARCHAR(20) | YES | NO | NULL |  |  |
| password | TEXT |  | NO | NULL |  |  |
| profile_picture | VARCHAR(255) |  | YES | NULL |  |  |
| banner_image | VARCHAR(255) |  | YES | NULL |  |  |
| follower_count | INT UNSIGNED |  | NO | 0 |  |  |
| following_count | INT UNSIGNED |  | NO | 0 |  |  |
| post_count | INT UNSIGNED |  | NO | 0 |  |  |
| verified | TINYINT |  | NO | 0 |  |  |
| private | TINYINT |  | NO | 0 |  |  |
| join_date | TIMESTAMP |  | YES | CURRENT_TIMESTAMP |  |  |

### Indexes
| Name | Unique | Columns | Comment |
|---|---|---|---|
| first_name | NO | `first_name` | Allow sorting by first name |
| last_name | NO | `last_name` | Allow sorting by last name |
| followers | NO | `follower_count` | Allow sorting by follower count |

### Relationships
This table has no relationships
## `defaults`
> Store the defaults for a lot of fields

[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| pfp_url | VARCHAR(255) |  | NO | https://source.unsplash.com/random/ |  | URL to default profile picture |
| banner_url | VARCHAR(255) |  | NO | https://source.unsplash.com/random/1920x1080 |  | URL to default banner image |

### Indexes
This table has no explicit indexes.

### Relationships
This table has no relationships
## `posts`
> Store all the posts on the platform

[See `users`](#users)


[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| post_id | INT UNSIGNED | PRI | NO | NULL |  |  |
| user_id | INT UNSIGNED UNSIGNED |  | NO | NULL |  |  |
| parent_id | INT UNSIGNED |  | YES | NULL |  |  |
| body | VARCHAR(255) |  | NO | NULL |  |  |
| share_count | INT UNSIGNED |  | NO | 0 |  |  |
| post_date | TIMESTAMP |  | YES | CURRENT_TIMESTAMP |  |  |
| edit_date | TIMESTAMP |  | YES | NULL | CURRENT_TIMESTAMP |  |

### Indexes
| Name | Unique | Columns | Comment |
|---|---|---|---|
| user_post | YES | `post_id`, `user_id` |  |

### Relationships
| Name | References | On Delete | On Update | Comment |
|---|---|---|---|---|
| user_id | `users.user_id` | CASCADE |  |  |
| parent_id | `posts.post_id` | CASCADE |  |  |

## `likes`
> Store a relationship between posts and users to represent a like

[See `users`](#users)


[See `likes`](#likes)


[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| like_id | INT UNSIGNED | PRI | NO | NULL |  |  |
| user_id | INT UNSIGNED |  | NO | NULL |  |  |
| post_id | INT UNSIGNED |  | NO | NULL |  |  |
| like_date | TIMESTAMP |  | YES | CURRENT_TIMESTAMP |  |  |

### Indexes
| Name | Unique | Columns | Comment |
|---|---|---|---|
| user_like | YES | `user_id`, `post_id` |  |

### Relationships
| Name | References | On Delete | On Update | Comment |
|---|---|---|---|---|
| user_id | `users.user_id` | CASCADE |  |  |
| post_id | `posts.post_id` | CASCADE |  |  |

## `follows`
> Store a relationship between two users to represent a follow

[See `users`](#users)


[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| follow_id | INT UNSIGNED | PRI | NO | NULL |  |  |
| follower_id | INT UNSIGNED |  | NO | NULL |  |  |
| following_id | INT UNSIGNED |  | NO | NULL |  |  |
| follow_date | TIMESTAMP |  | YES | CURRENT_TIMESTAMP |  |  |

### Indexes
| Name | Unique | Columns | Comment |
|---|---|---|---|
| follow_relation | YES | `follower_id`, `following_id` |  |
| f_date | NO | `follow_date` |  |

### Relationships
| Name | References | On Delete | On Update | Comment |
|---|---|---|---|---|
| follower_id | `users.user_id` | CASCADE |  |  |
| following_id | `users.user_id` | CASCADE |  |  |

## `notifications`
> Store notifications for a user

[See `users`](#users)


[Back to top](#table-of-contents)

### Fields
| Name | Type | Unique | NULL | Default | On Update | Comment |
|---|---|---|---|---|---|---|
| notification_id | INT UNSIGNED | PRI | NO | NULL |  |  |
| user_id | INT UNSIGNED |  | NO | NULL |  |  |
| notification_type | TINYINT |  | NO | 0 |  |  |
| body | VARCHAR(125) |  | NO | NULL |  |  |
| notification_date | TIMESTAMP |  | YES | CURRENT_TIMESTAMP |  |  |

### Indexes
| Name | Unique | Columns | Comment |
|---|---|---|---|
| user_notif | YES | `user_id`, `notification_id` |  |

### Relationships
| Name | References | On Delete | On Update | Comment |
|---|---|---|---|---|
| user_id | `users.user_id` | CASCADE |  |  |

# Procedures
## `add_follow()`
> Add a follow relationship to the database

[See `users`](#users)


[See `follows`](#follows)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT | Current user |
| fi | INT   | User to follow |

## `remove_follow()`
> Remove a follow relationship

[See `users`](#users)


[See `follows`](#follows)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT | Current user |
| fi | INT   | User to unfollow |

## `add_post()`
> Add a post to the database

[See `users`](#users)


[See `posts`](#posts)


[See `likes`](#likes)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT UNSIGNED | User id |
| pi | INT UNSIGNED | Parent post id |
| bo | VARCHAR(255)  | Post body |

## `edit_post()`
> Edit an existing post in the database

[See `users`](#users)


[See `posts`](#posts)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| pi | INT UNSIGNED | Post ID |
| bo | VARCHAR(255)  | New body |

## `get_post()`
> Retrieve a post from the database

[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| pi | INT UNSIGNED  | ID of the post to retrieve |

## `remove_post()`
> Remove a post from the database. Will cause all comments to be deleted as well (through the `ON DELETE CASCADE` clause in the relationship)

[See `users`](#users)


[See `posts`](#posts)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| pi | INT UNSIGNED  | ID of post to remove |

## `add_user()`
> Add a new user

[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| fn | VARCHAR(25) | First name |
| ln | VARCHAR(25) | Last name |
| mi | CHAR(1) | Middle Initial |
| em | VARCHAR(255) | Email |
| dn | VARCHAR(20) | Display Name |
| ha | VARCHAR(20) | Handle |
| pw | TEXT | Password |
| pf | VARCHAR(255) | Profile picture URL (NULL if default) |
| ba | VARCHAR(255)      | Banner image URL (NULL if default) |

## `edit_user()`
> Edit an existing user

[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT UNSIGNED | ID of user to edit |
| fn | VARCHAR(25) | New first name |
| ln | VARCHAR(25) | New last name |
| mi | CHAR(1) | New middle initial |
| em | VARCHAR(255) | New email |
| dn | VARCHAR(20)       | New display name |

## `get_user()`
> Get a specific user

[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT UNSIGNED  | ID of user to get |

## `update_user_image()`
> Used specifically to change the profile picture and banner image of a user.

[See `users`](#users)


[See `defaults`](#defaults)


[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT UNSIGNED | User ID |
| im | TINYINT | Image (0 = pfp, 2 = banner) |
| ur | VARCHAR(255)          | URL (the new url) |

## `update_user_password()`
> Used specifically to update the password of a user

[Back to top](#table-of-contents)

### Parameters
| Name | Type | Comment |
|---|---|---|
| ui | INT UNSIGNED | User ID to update |
| pa | TEXT              | New password (encrypted) |


---
[Check out SQLDoc on Github](https://github.com/isaacmaddox/SQLDoc)
